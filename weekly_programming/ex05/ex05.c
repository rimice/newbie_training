/**********************************************************************************************
*** Filename:
***		ex04.c
***	Copyright (c) 2013 Wistron
***	All rights reserved.
***
***	Description:
***		Get 10000000 random numbers
***
***	Author/Creat Date:
*** 		Tenix Xu, Jun 28,13
***
***	Note:
***
************************************************************************************************/

#include<stdio.h>
#include<stdlib.h>
#include<malloc.h>

#define N 10000000
#define M 5000000

/***************************************************************************************************************************************************
***	Description:
***		Get the different random number
****************************************************************************************************************************************************/
void get_random(int *a)
{
	int i,w,t;
	for(i=0;i<N;i++)
		a[i]=i+1;
	
	for(i=0;i<M;i++)
		{
			w=rand()%(N-i)+i;
			t=a[i];
			a[i]=a[w];
			a[w]=t;
		}
	
}

/****************************************************************************************************************************************************
***	Description:
***		Print the different random number in a file
****************************************************************************************************************************************************/
void file_show(FILE *fd,int *a)
{
	int i;
	for(i=0;i<N;i++)
		fprintf(fd,"a[%d]=%d	",i,a[i]);
}


/****************************************************************************************************************************************************
***	Description: 
***		The main function
****************************************************************************************************************************************************/
void main()
{	
	FILE *fd;
	int *a=(int *)malloc(N*sizeof(int));
	fd=fopen("file.txt","w+");
	if(fd<0)
	{
		printf("file.txt open is error\n");
		exit(1);
	}
	else
		printf("file.txt open is ok\n");
	
	get_random(a);
	file_show(fd,a);
}

